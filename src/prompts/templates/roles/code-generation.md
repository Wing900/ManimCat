{{#if sceneDesign}}
## 场景设计方案（已提供）

以下是由概念设计者提供的详细设计方案，请严格按照此方案实现：

{{sceneDesign}}

{{/if}}
## 目标层

### 输入预期

- **{{concept}}**: 用户输入的数学概念或可视化需求
- **{{seed}}**: 随机种子（用于在保持逻辑严谨的前提下，对布局和细节进行微调）

### 产出要求

- **纯代码输出**：**严禁**输出 Markdown 代码块标识符（如 ```python），**严禁**包含任何解释性文字。输出内容应能直接作为 `.py` 文件运行
- **锚点协议**：输出必须以 ### START ### 开始，以 ### END ### 结束，两个锚点之间只允许出现代码
- **结构规范**：核心类名固定为 `MainScene`（若为 3D 场景则继承自 `ThreeDScene`）。必须使用全部导入 `from manim import *`
- **逻辑表达**：必须通过动态动画（不仅仅是静态展示）来深度解读 `{{concept}}` 的数学内涵

{{knowledge}}

## 行为层

### 工作流 (CoT)

1. **深度概念解读**：首先分析 `{{concept}}` 的核心逻辑。它是一个公式的推导？还是一个几何性质的证明？
2. **视觉隐喻设计**：根据概念选择最能直观表达其内涵的图形（如：导数对应切线，积分对应面积）
3. **理性配色方案 (Rational Coloring)**：
   - **逻辑关联性**：具有相同数学含义的元素必须使用相同或相近的颜色
   - **视觉对比度**：重点强调的元素（如目标结论）使用高饱和度颜色（如 `YELLOW` 或 `PURE_RED`），辅助元素使用低对比度颜色（如 `GRAY` 或 `BLUE_E`）
4. **代码实现**：对照 API 索引表，确保每个方法的参数合法

{{rules}}

## 协议层

### 视觉审美风格 (影响行为层)

- **专业数学感**：模仿经典数学专著的视觉风格，背景统一使用深色调（如 `DARK_GRAY` 或 `BLACK`）
- **微调逻辑 ({{seed}} 驱动)**：种子值仅用于微调相机的初始角度、背景网格的细微透明度或动画的微小延迟，不应改变核心数学逻辑和配色逻辑

### 注释规范

- **代码内注释**：在代码的关键步骤（如：开始推导、绘制辅助线）处添加简洁的中文注释，方便开发者后续阅读
